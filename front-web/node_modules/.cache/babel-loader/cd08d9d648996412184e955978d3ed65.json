{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\workspaces\\\\ws-sds2\\\\dsdeliver\\\\front-web\\\\src\\\\Orders\\\\OrderLocation.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport AsyncSelect from 'react-select/async';\nimport { fetchLocalMapBox } from '../api';\nconst initialPosition = {\n  lat: -25.5186292,\n  lng: -49.2317634\n};\n\nfunction OrderLocation() {\n  _s();\n\n  const [address, setAddress] = useState({\n    position: initialPosition\n  });\n\n  const loadOptions = async (inputValue, callback) => {\n    const response = await fetchLocalMapBox(inputValue);\n    const places = response.data.features.map(item => {\n      return {\n        label: item.place_name,\n        value: item.place_name,\n        position: {\n          lat: item.center[1],\n          lng: item.center[0]\n        }\n      };\n    });\n    callback(places);\n  };\n\n  const handleChangeSelect = place => {\n    setAddress(place); //onChangeLocation({\n    //latitude: place.position.lat,\n    //longitude: place.position.lng,\n    //address: place.label!\n    //});\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"order-location-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"order-location-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"order-location-title\",\n        children: \"Selecione onde o pedido  deve ser entregue:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-container\",\n        children: /*#__PURE__*/_jsxDEV(AsyncSelect, {\n          placeholder: \"DIGITE UM ENDERE\\xC7O PARA ENTREGAR O PEDIDO\",\n          className: \"filter\",\n          loadOptions: loadOptions,\n          onChange: value => handleChangeSelect(value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: address.position,\n        zoom: 13,\n        scrollWheelZoom: true,\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Marker, {\n          position: address.position,\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: address.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, address.position.lat, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_s(OrderLocation, \"RcUO2Q5E12+sbmKqaj00z62eRVM=\");\n\n_c = OrderLocation;\nexport default OrderLocation;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderLocation\");","map":{"version":3,"sources":["C:/workspaces/ws-sds2/dsdeliver/front-web/src/Orders/OrderLocation.tsx"],"names":["useState","MapContainer","TileLayer","Marker","Popup","AsyncSelect","fetchLocalMapBox","initialPosition","lat","lng","OrderLocation","address","setAddress","position","loadOptions","inputValue","callback","response","places","data","features","map","item","label","place_name","value","center","handleChangeSelect","place"],"mappings":";;;;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,YAAT,EAAuBC,SAAvB,EAAkCC,MAAlC,EAA0CC,KAA1C,QAAuD,eAAvD;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,SAASC,gBAAT,QAAiC,QAAjC;AAEA,MAAMC,eAAe,GAAG;AACtBC,EAAAA,GAAG,EAAE,CAAC,UADgB;AAEtBC,EAAAA,GAAG,EAAE,CAAC;AAFgB,CAAxB;;AAeA,SAASC,aAAT,GAAyB;AAAA;;AACvB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAQ;AAC5Ca,IAAAA,QAAQ,EAAEN;AADkC,GAAR,CAAtC;;AAIA,QAAMO,WAAW,GAAG,OAAOC,UAAP,EAA2BC,QAA3B,KAAmE;AACrF,UAAMC,QAAQ,GAAG,MAAMX,gBAAgB,CAACS,UAAD,CAAvC;AAEA,UAAMG,MAAM,GAAGD,QAAQ,CAACE,IAAT,CAAcC,QAAd,CAAuBC,GAAvB,CAA4BC,IAAD,IAAe;AACvD,aAAQ;AACNC,QAAAA,KAAK,EAAED,IAAI,CAACE,UADN;AAENC,QAAAA,KAAK,EAAEH,IAAI,CAACE,UAFN;AAGNX,QAAAA,QAAQ,EAAE;AACRL,UAAAA,GAAG,EAAEc,IAAI,CAACI,MAAL,CAAY,CAAZ,CADG;AAERjB,UAAAA,GAAG,EAAEa,IAAI,CAACI,MAAL,CAAY,CAAZ;AAFG;AAHJ,OAAR;AASD,KAVc,CAAf;AAYAV,IAAAA,QAAQ,CAACE,MAAD,CAAR;AACD,GAhBD;;AAkBA,QAAMS,kBAAkB,GAAIC,KAAD,IAAkB;AAC3ChB,IAAAA,UAAU,CAACgB,KAAD,CAAV,CAD2C,CAE3C;AACE;AACA;AACA;AACF;AACD,GAPD;;AAUA,sBACE;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA,8BACE;AAAI,QAAA,SAAS,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,+BACE,QAAC,WAAD;AACC,UAAA,WAAW,EAAC,8CADb;AAEC,UAAA,SAAS,EAAC,QAFX;AAGC,UAAA,WAAW,EAAEd,WAHd;AAIC,UAAA,QAAQ,EAAEW,KAAK,IAAIE,kBAAkB,CAACF,KAAD;AAJtC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAJF,eAYE,QAAC,YAAD;AACE,QAAA,MAAM,EAAEd,OAAO,CAACE,QADlB;AAEE,QAAA,IAAI,EAAE,EAFR;AAIE,QAAA,eAAe,MAJjB;AAAA,gCAME,QAAC,SAAD;AACE,UAAA,WAAW,EAAC,0EADd;AAEE,UAAA,GAAG,EAAC;AAFN;AAAA;AAAA;AAAA;AAAA,gBANF,eAUE,QAAC,MAAD;AAAQ,UAAA,QAAQ,EAAEF,OAAO,CAACE,QAA1B;AAAA,iCACE,QAAC,KAAD;AAAA,sBACGF,OAAO,CAACY;AADX;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAVF;AAAA,SAGOZ,OAAO,CAACE,QAAR,CAAiBL,GAHxB;AAAA;AAAA;AAAA;AAAA,cAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAiCD;;GAlEQE,a;;KAAAA,a;AAmET,eAAeA,aAAf","sourcesContent":["import { useState } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\r\nimport AsyncSelect from 'react-select/async';\r\nimport { fetchLocalMapBox } from '../api';\r\n\r\nconst initialPosition = {\r\n  lat: -25.5186292,\r\n  lng: -49.2317634\r\n}\r\n\r\ntype Place = {\r\n  label?: string;\r\n  value?: string;\r\n  position: {\r\n    lat: number;\r\n    lng: number;\r\n  }\r\n}\r\n\r\n\r\nfunction OrderLocation() {\r\n  const [address, setAddress] = useState<Place>({\r\n    position: initialPosition\r\n  });\r\n\r\n  const loadOptions = async (inputValue: string, callback: (places: Place[]) => void) => {\r\n    const response = await fetchLocalMapBox(inputValue);\r\n  \r\n    const places = response.data.features.map((item: any) => {\r\n      return ({\r\n        label: item.place_name,\r\n        value: item.place_name,\r\n        position: {\r\n          lat: item.center[1],\r\n          lng: item.center[0]\r\n        }\r\n        \r\n      });\r\n    });\r\n  \r\n    callback(places);\r\n  };\r\n  \r\n  const handleChangeSelect = (place: Place) => {\r\n    setAddress(place);\r\n    //onChangeLocation({\r\n      //latitude: place.position.lat,\r\n      //longitude: place.position.lng,\r\n      //address: place.label!\r\n    //});\r\n  };\r\n  \r\n\r\n  return (\r\n    <div className=\"order-location-container\">\r\n      <div className=\"order-location-content\">\r\n        <h3 className=\"order-location-title\">\r\n          Selecione onde o pedido  deve ser entregue:\r\n        </h3>\r\n        <div className=\"filter-container\">\r\n          <AsyncSelect \r\n           placeholder=\"DIGITE UM ENDEREÃ‡O PARA ENTREGAR O PEDIDO\"\r\n           className='filter'\r\n           loadOptions={loadOptions}\r\n           onChange={value => handleChangeSelect(value as Place)}\r\n          />\r\n        </div>\r\n        <MapContainer \r\n          center={address.position} \r\n          zoom={13}\r\n          key={address.position.lat} \r\n          scrollWheelZoom\r\n          >\r\n          <TileLayer\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n          <Marker position={address.position}>\r\n            <Popup>\r\n              {address.label}\r\n      </Popup>\r\n          </Marker>\r\n        </MapContainer>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default OrderLocation;"]},"metadata":{},"sourceType":"module"}